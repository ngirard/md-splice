update 01: Completed Step 1 workspace restructuring. Established a Cargo workspace with `md-splice-lib` (library) and `md-splice` (binary) members, migrated source files accordingly, relocated integration tests under the binary crate, updated fixture paths, and verified the build with `cargo build --workspace` and `cargo test --workspace`.
update 02: Delivered Step 2 library API foundation. Added the new `MarkdownDocument` type with `from_str`, `apply`, and `render` methods, refactored internal helpers to reuse transactional operations, introduced `SpliceError` variants for parse/IO failures, and created `md-splice-lib/tests/api.rs` to exercise document loading, rendering, body replacement, and frontmatter mutation through the public API. All workspace tests succeed via `cargo test --workspace`.
update 03: Completed Step 3 CLI refactor. Migrated all command processing into the binary crate with a new `app` module, translating Clap arguments into library transactions, wiring document loading through the new `FromStr` impl, and preserving legacy error messaging and STDIN handling. Removed the old CLI module from the library, exposed additional document accessors, cleaned unused helpers, and updated both cratesâ€™ dependencies. Verified with `cargo fmt`, `cargo clippy --workspace -- -D warnings`, and `cargo test --workspace`.
update 04: Completed Step 4 documentation and Step 5 finalization. Added a "Using as a Library" section with sample code to `README.md`, expanded crate- and API-level documentation throughout `md-splice-lib`, and introduced `Default` implementations for transactional structs to support ergonomic examples. Verified docs with `cargo doc --workspace --no-deps`, ensured formatting, linting, tests, and a release build succeeded via `cargo fmt`, `cargo clippy --workspace -- -D warnings`, `cargo test --workspace`, and `cargo build --workspace --release`.
